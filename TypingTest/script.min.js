const words=["abandon","beacon","candy","dove","eagle","flame","grape","happy","ice","jungle","kingdom","lunar","mango","noble","ocean","petal","quest","river","shadow","train","umbrella","vivid","whale","basket","yellow","zebra","angel","brave","crane","dusk","enigma","frost","glow","honey","index","juice","knight","lunar","magic","night","oasis","pearl","quill","rose","scent","tiger","unity","vortex","wind","xray","yogurt","zoned","atlas","bliss","cider","dawn","epoch","flame","gauge","heaven","irony","jolly","koala","lamb","mint","neon","opal","plum","quartz","ruby","sunset","tango","urban","vogue","wave","xerox","yearn","zephyr","aqua","bold","crisp","dove","edge","forge","grace","hush","ink","jade","kite","leaf","mist","navy","oak","pale","quilted","rare","stone","tone","urban","vibes","wisp","yacht","zeal","arc","blaze","core","dust","echo","flint","gaze","halo","iron","june","kale","lime","moss","nest","ore","peach","quail","ridge","snow","tide","use","vow","window","xmas","yoga","zoo","amber","breeze","clover","drift","enjoy","flame","grin","hatch","icicle","jazz","knack","latch","mocha","nail","open","pale","quiz","rust","sail","tide","ugly","vowed","wool","xenon","yawned","zone","awe","belt","charm","dome","elixir","fawn","gala","hop","inc","june","knot","lump","moon","noon","opal","pier","quiver","ride","stare","twin","unit","vase","wax","yolk","zoom","arrow","brick","cloud","dune","eagle","frost","grip","haze","ignite","jacket","lure","mesh","nest","ogre","puff","quilt","rave","swoop","track","urge","view","windy","yell","zen","bolt","clip","deep","echo","flare","gaze","heron","iris","jolt","key","lily","mint","nook","olive","plow","quill","rust","sage","tick","uniform","vibe","whip","yarn","zoomed","art","blow","core","dove","eagle","foam","gloom","hand","ice","joke","knee","loaf","melt","note","open","pale","quill","roar","slug","tear","urge","blank","wait","yawn","zinc",],textContainer=document.getElementById("text-container"),timerElement=document.getElementById("timer"),tryAgainButton=document.getElementById("try-again"),finalScoreElement=document.getElementById("final-score");let totalWordsTyped="",currentCharIndex=0,errors=0,timeLeft=60,timerInterval,typingStarted=!1;function isMobile(){return/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}if(isMobile())alert("This app is not for mobile use sorry"),textContainer.innerHTML="Sorry this app is not mobile friendly",timerElement.style.display="none";else{let e=n();function t(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function n(){return t([...words]).join(" ")}function r(){typingStarted||(typingStarted=!0,timerInterval=setInterval(()=>{timeLeft--,timerElement.textContent=`Time Left ${timeLeft}s`,timeLeft<=0&&(clearInterval(timerInterval),o())},1e3))}function o(){timerElement.textContent="Time's up!",finalScoreElement.textContent=`Final WPM: ${a()}`,textContainer.style.display="none",tryAgainButton.style.display="block"}function a(){let e=totalWordsTyped.trim().split(/\s+/).length,t=Math.max(Math.round(e/60*60)-errors,0);return t}function i(){clearInterval(timerInterval),timeLeft=60,timerElement.textContent=`Time Left ${timeLeft}`,finalScoreElement.textContent="",textContainer.style.display="block",tryAgainButton.style.display="none",totalWordsTyped="",typingStarted=!1,currentCharIndex=0,errors=0,textContainer.scrollLeft=0,textContainer.innerHTML="",e=n(),textContainer.innerHTML=e}textContainer.innerHTML=e,document.addEventListener("keydown",t=>{r(),"Backspace"===t.key?totalWordsTyped.length>0&&(currentCharIndex=Math.max(currentCharIndex-1,0),totalWordsTyped=totalWordsTyped.slice(0,-1)):1===t.key.length&&!t.ctrlKey&&!t.metaKey&&(totalWordsTyped+=t.key,currentCharIndex++);let n=e.split("");textContainer.innerHTML="",errors=0;for(let o=0;o<n.length;o++){let a=document.createElement("span");o<totalWordsTyped.length&&(totalWordsTyped[o]===n[o]?a.classList.add("correct"):(a.classList.add("error"),errors++)),a.textContent=n[o],textContainer.appendChild(a)}if(totalWordsTyped.length>=20){let i=(totalWordsTyped.length-20)*14;textContainer.scrollLeft=i}}),tryAgainButton.addEventListener("click",i)}